<!-- <!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>قرعه‌کشی طلایی</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Vazirmatn', sans-serif;
      direction: rtl;
      text-align: center;
      padding: 30px;
      background-image: url('https://cdn.honarechehre.ir/images/3a370270-a347-11ef-a5be-499046e87cc4.webp');
      /* background-image: url('https://pikfree.ir/wp-content/uploads/edd/2019/12/gold-nuggets-on-black-background-closeup-Top.jpg'); */
      /* background-image: url('https://afrafile.com/storage/upload/post/1639921100-5486780.webp'); */
      background-size: cover;
      background-position: center;
      color: #fff;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: gold;
      text-shadow: 0 0 10px #000;
    }

    input, button {
      margin: 10px;
      padding: 12px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
    }

    input[type="text"], input[type="number"] {
      width: 250px;
    }

    button {
      background-color: gold;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 10px #222;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #ffd700;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      background: rgba(0, 0, 0, 0.6);
      margin: 5px auto;
      padding: 10px;
      width: 300px;
      border-radius: 10px;
      box-shadow: 0 0 5px gold;
    }
  </style>
</head>
<body>
  <h1>قرعه‌کشی طلایی</h1>

  <input type="text" id="nameInput" placeholder="نام شرکت‌کننده را وارد کنید">
  <button onclick="addName()">افزودن</button>

  <h3>لیست شرکت‌کنندگان:</h3>
  <ul id="nameList"></ul>

  <input type="number" id="numWinners" min="1" placeholder="تعداد برندگان">
  <button onclick="pickWinners()">قرعه‌کشی</button>

  <h3>برندگان:</h3>
  <ul id="winnerList"></ul>

  <script>
    const names = [];

    function addName() {
      const input = document.getElementById("nameInput");
      const name = input.value.trim();
      if (name) {
        names.push(name);
        updateNameList();
        input.value = "";
      }
    }

    function updateNameList() {
      const list = document.getElementById("nameList");
      list.innerHTML = "";
      names.forEach((name, index) => {
        const li = document.createElement("li");
        li.textContent = `${index + 1}- ${name}`;
        list.appendChild(li);
      });
    }

    function pickWinners() {
      const num = parseInt(document.getElementById("numWinners").value);
      const winnerList = document.getElementById("winnerList");
      winnerList.innerHTML = "";
      if (isNaN(num) || num < 1 || num > names.length) {
        alert("تعداد برندگان معتبر نیست");
        return;
      }
      const shuffled = [...names].sort(() => 0.5 - Math.random());
      const winners = shuffled.slice(0, num);
      winners.forEach((winner, index) => {
        const li = document.createElement("li");
        li.textContent = `${index + 1}- ${winner}`;
        winnerList.appendChild(li);
      });
    }
  </script>
</body>
</html> -->
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>قرعه‌کشی طلایی</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Vazirmatn', sans-serif;
      direction: rtl;
      text-align: center;
      padding: 30px;
      background-image: url('https://cdn.honarechehre.ir/images/3a370270-a347-11ef-a5be-499046e87cc4.webp');
      background-size: cover;
      background-position: center;
      color: #fff;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: gold;
      text-shadow: 0 0 10px #000;
    }

    input, button {
      margin: 10px;
      padding: 12px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
    }

    input[type="text"], input[type="number"] {
      width: 250px;
    }

    button {
      background-color: gold;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 10px #222;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #ffd700;
    }

    table {
      margin: 0 auto;
      width: 60%;
      border-collapse: collapse;
      background: rgba(0, 0, 0, 0.6);
      box-shadow: 0 0 10px gold;
      margin-bottom: 30px;
    }

    th, td {
      border: 1px solid gold;
      padding: 10px;
    }

    .modal-background {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 10;
    }

    .modal {
      display: none;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: #222;
      padding: 30px;
      border-radius: 15px;
      z-index: 11;
      color: gold;
      box-shadow: 0 0 15px #000;
      text-align: center;
    }

    .modal h2 {
      font-size: 2rem;
      margin-bottom: 20px;
    }

    .modal ul li {
      font-size: 1.5rem;
      margin: 10px 0;
    }

    .loader {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2rem;
      font-weight: bold;
      color: gold;
      z-index: 12;
    }
  </style>
</head>
<body>
  <h1>قرعه‌کشی طلایی</h1>

  <input type="text" id="nameInput" placeholder="نام‌ها را وارد کنید (با کاما جدا کنید)">
  <button onclick="addName()">افزودن</button>

  <h3>لیست شرکت‌کنندگان:</h3>
  <table>
    <thead>
      <tr><th>ردیف</th><th>نام</th><th>حذف</th></tr>
    </thead>
    <tbody id="nameList"></tbody>
  </table>

  <input type="number" id="numWinners" min="1" placeholder="تعداد برندگان">
  <button onclick="startDraw()">قرعه‌کشی</button>

  <div class="loader" id="loader">در حال قرعه‌کشی...</div>
  <div class="modal-background" id="modalBg"></div>
  <div class="modal" id="resultModal">
    <h2>برندگان قرعه‌کشی</h2>
    <ul id="winnerList"></ul>
    <button onclick="closeModal()">انجام دوباره</button>
  </div>

  <script>
    const names = [];

    document.getElementById("nameInput").addEventListener("keydown", function(event) {
      if (event.key === "Enter") {
        event.preventDefault();
        addName();
      }
    });

    function addName() {
      const input = document.getElementById("nameInput");
      const inputText = input.value.trim();
      if (inputText) {
        const newNames = inputText.split(',').map(name => name.trim()).filter(n => n);
        names.push(...newNames);
        updateNameList();
        input.value = "";
      }
    }

    function updateNameList() {
      const list = document.getElementById("nameList");
      list.innerHTML = "";
      names.forEach((name, index) => {
        const row = document.createElement("tr");

        const indexCell = document.createElement("td");
        indexCell.textContent = index + 1;

        const nameCell = document.createElement("td");
        nameCell.textContent = name;

        const deleteCell = document.createElement("td");
        const delBtn = document.createElement("button");
        delBtn.textContent = "❌";
        delBtn.style.cursor = "pointer";
        delBtn.onclick = () => {
          names.splice(index, 1);
          updateNameList();
        };
        deleteCell.appendChild(delBtn);

        row.appendChild(indexCell);
        row.appendChild(nameCell);
        row.appendChild(deleteCell);
        list.appendChild(row);
      });
    }

    function startDraw() {
      const num = parseInt(document.getElementById("numWinners").value);
      if (isNaN(num) || num < 1 || num > names.length) {
        alert("تعداد برندگان معتبر نیست");
        return;
      }
      document.getElementById("loader").style.display = "block";
      setTimeout(() => {
        pickWinners(num);
        document.getElementById("loader").style.display = "none";
        document.getElementById("modalBg").style.display = "block";
        document.getElementById("resultModal").style.display = "block";
      }, 1500);
    }

    function pickWinners(num) {
      const winnerList = document.getElementById("winnerList");
      winnerList.innerHTML = "";
      const shuffled = [...names].sort(() => 0.5 - Math.random());
      const winners = shuffled.slice(0, num);
      winners.forEach((winner, index) => {
        const li = document.createElement("li");
        li.textContent = `${index + 1}- ${winner}`;
        winnerList.appendChild(li);
      });
    }

    function closeModal() {
      document.getElementById("modalBg").style.display = "none";
      document.getElementById("resultModal").style.display = "none";
    }
  </script>
</body>
</html>
